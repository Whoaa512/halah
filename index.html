<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Halah World</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
    }
    html, body, .graph {
      width: 100%;
      height: 100%;
    }
    .halfGraphs {
      float: left;
      width: 50%;
      height: 500px;
    }
  </style>
</head>
<body>
  <div class="graph"></div>
  <div class="halfGraphs"></div>
  <div class="halfGraphs"></div>

  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="./recompute.js"></script>
  <script src="./halah.js"></script>
  <script>
    // Some y values.
    var getData = function() {
      return [0,0,0,0,0,0,0].map(function() {
        return Math.floor(Math.random() * 100);
      });
    };

    // Define a graph model, with X and Y arrays for now.
    var myGraph = new Graph({
      x: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],
      y: getData()
    });

    // Define as many views of this model as you wish.
    // The graph should automatically fill an empty div.
    // Right now the only available rendering option is bar graph, and you
    // should pass that as the second argument.
    var view = myGraph.init(document.querySelector('.graph'), 'bar');
    var secondView = myGraph.init(document.querySelectorAll('.halfGraphs')[0], 'bar');
    var thirdView = myGraph.init(document.querySelectorAll('.halfGraphs')[1], 'bar');

    // It's reactive!
    setInterval(function() {
      myGraph.set('y', getData());
    }, 1000);
  </script>
</body>
</html>
